var dbPromise=idb.open("posts-store",1,function(t){if(!t.objectStoreNames.contains("posts")){t.createObjectStore("posts",{keyPath:"id"})}if(!t.objectStoreNames.contains("sync-posts")){t.createObjectStore("sync-posts",{keyPath:"id"})}});function writeData(n,a){return dbPromise.then(function(t){var e=t.transaction(n,"readwrite");var r=e.objectStore(n);r.put(a);return e.complete})}function readAllData(n){return dbPromise.then(function(t){var e=t.transaction(n,"readonly");var r=e.objectStore(n);return r.getAll()})}function clearAllData(n){return dbPromise.then(function(t){var e=t.transaction(n,"readwrite");var r=e.objectStore(n);r.clear();return e.complete})}function deleteDataItem(n,a){dbPromise.then(function(t){var e=t.transaction(n,"readwrite");var r=e.objectStore(n);r.delete(a);return e.complete}).then(function(){console.log("delete item",a)})}function urlBase64ToUint8Array(t){var e="=".repeat((4-t.length%4)%4);var r=(t+e).replace(/\-/g,"+").replace(/_/g,"/");var n=window.atob(r);var a=new Uint8Array(n.length);for(var o=0;o<n.length;++o){a[o]=n.charCodeAt(o)}return a}function dataURItoBlob(t){var e=atob(t.split(",")[1]);var r=t.split(",")[0].split(":")[1].split(";")[0];var n=new ArrayBuffer(e.length);var a=new Uint8Array(n);for(var o=0;o<e.length;o++){a[o]=e.charCodeAt(o)}var i=new Blob([n],{type:r});return i}